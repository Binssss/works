<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>带关闭按钮的广告图</title>
<style>
#main{text-align:center;}
#adver{
	position:absolute;
	left:30px;
	top:60px; 
	z-index:1;
	
}

#close{
	position:absolute;
	top:60px;
	left:134px;
	z-index:2;
	cursor:pointer;
}

</style>
<script>
var adverTop;
var adverLeft;
var adverObject;
var closeTop;
var closeLeft;
var closeObject;
function inix(){
		adverObject = document.getElementById("adver");
		closeObject = document.getElementById("close");
		if(adverObject.currentStyle){
			
				adverTop = parseInt(adverObject.currentStyle.top);
				adverLeft = parseInt(adverObject.currentStyle.left);
				
				closeTop = parseInt(closeObject.currentStyle.top);
				closeLeft = parseInt(closeObject.currentStyle.left);
			}
			else{
				adverTop = parseInt(document.defaultView.getComputedStyle(adverObject,null).top);
				adverLeft = parseInt(document.defaultView.getComputedStyle(adverObject,null).left);	
				
				closeTop = parseInt(document.defaultView.getComputedStyle(closeObject,null).top);
				closeLeft = parseInt(document.defaultView.getComputedStyle(closeObject,null).left);
			}
	}
	
function move(){
		var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
		var scrollLeft = document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft;
		adverObject.style.top = adverTop + parseInt(scrollTop) + "px";
		adverObject.style.left = adverLeft + parseInt(scrollLeft) + "px";
		
		closeObject.style.top = closeTop + parseInt(scrollTop) + "px";
		closeObject.style.left = closeLeft + parseInt(scrollLeft) + "px";
	}
	
function closeAd(){
	document.getElementById("close").style.display="none";	
	document.getElementById("adver").style.display="none";	

}

	window.onload = inix;
	window.onscroll = move;
</script>
</head>

<body>

<div id="close" onclick="closeAd()"><img src="images/close.jpg"></div>
<div id="adver">
<img src="images/advpic.jpg">
</div>
<div id="main">
<img src="images/contentpic.jpg">
</div>

</body>
</html>
